<section class="ouvJEz" style="box-sizing: border-box; border-radius: 4px; margin-bottom: 10px; padding: 24px; color: rgb(64, 64, 64); font-family: -apple-system, system-ui, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px;"><h1 class="_1RuRku" style="box-sizing: border-box; margin-bottom: 0.5em; text-rendering: optimizelegibility; font-size: 30px; word-break: break-word;">关于yarn的参数调整（yarn.nodemanager.vmem-pmem-ratio）</h1><div class="rEsl9f" style="box-sizing: border-box; -webkit-box-pack: justify; justify-content: space-between; -webkit-box-align: center; align-items: center; margin-bottom: 32px; font-size: 13px; display: flex;"><div class="_2mYfmT" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center;"><a class="_1OhGeD" href="https://www.jianshu.com/u/2fda7fcf9a9a" target="_blank" rel="noopener noreferrer" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0); outline: none; cursor: pointer; transition: color 0.3s ease 0s; touch-action: manipulation;"><img class="_13D2Eh" src="http://cdn2.jianshu.io/assets/default_avatar/13-394c31a9cb492fcb39c27422ca7d2815.jpg" alt="" style="box-sizing: border-box; vertical-align: middle; border-width: 1px; border-style: solid; border-color: rgb(238, 238, 238); display: block; border-radius: 50%; min-width: 48px; min-height: 48px; width: 48px; height: 48px;"></a><div style="box-sizing: border-box; margin-left: 8px;"><div class="_3U4Smb" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center; margin-bottom: 6px;"><span class="FxYr8x" style="box-sizing: border-box; font-size: 16px; margin-right: 8px;"><a class="_1OhGeD" href="https://www.jianshu.com/u/2fda7fcf9a9a" target="_blank" rel="noopener noreferrer" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0); outline: none; cursor: pointer; transition: color 0.3s ease 0s; touch-action: manipulation;">会飞的大公鸡</a></span><button data-locale="zh-CN" type="button" class="_3kba3h _1OyPqC _3Mi9q9 _34692-" style="touch-action: manipulation; color: rgb(236, 114, 89); font-size: 12px; font-family: inherit; line-height: inherit; overflow: visible; position: relative; flex-shrink: 0; display: inline-flex; -webkit-box-pack: center; justify-content: center; -webkit-box-align: center; align-items: center; border-radius: 50px; cursor: pointer; background-image: none; white-space: nowrap; user-select: none; transition: all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1) 0s; padding: 2px 9px; background-color: rgb(255, 255, 255); border-color: rgb(236, 114, 89);"><span style="box-sizing: border-box;">关注</span></button></div><div class="s-dsoj" style="box-sizing: border-box; display: flex; color: rgb(150, 150, 150);"><time datetime="2019-03-29T08:03:27.000Z" style="box-sizing: border-box; margin-right: 10px;">2019.03.29 16:03:27</time><span style="box-sizing: border-box; margin-right: 10px;">字数 302</span><span style="box-sizing: border-box;">阅读 1,433</span></div></div></div></div><article class="_2rhmJa" style="box-sizing: border-box; line-height: 1.8; margin-bottom: 20px;"><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">背景：</p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">&nbsp; &nbsp; &nbsp; &nbsp; 1、flink on yarn</p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">&nbsp; &nbsp; &nbsp; &nbsp; 2、某一天本人提交flink任务，.原命令/bin/flink run -m yarn-cluster -yn 2 -yjm 1024 -ytm 1024，正常启动，我调大了-ytm为2048.程序一直报Deployment took more than 60 seconds. Please check if the requested resources are available in the YARN cluster，但实际上，整个集群内存很充足，我就懵逼了。</p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">&nbsp; &nbsp; &nbsp; &nbsp; 3、开启解惑之旅。</p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">解惑记录如下，希望同样问题的小伙伴可以借鉴一下。</p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">&nbsp; &nbsp; &nbsp; &nbsp; 出现这个问题，我首先想到了我前几天调的yarn参数，yarn.nodemanager.vmem-pmem-ratio调了值为5，这个是虚拟内存和真实物理内存的比率，这参数默认值为2.1，我把yarn.nodemanager.vmem-pmem-ratio 调小为3.然后运行</p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">./bin/flink run -m yarn-cluster -yn 2 -yjm 1024 -ytm 2048 -ynm&nbsp; xxxx&nbsp; &nbsp; -d&nbsp; -c&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;com.xxx.flink.app.xxxx&nbsp; &nbsp; /var/apps/xxx-xxx.jar&nbsp; &nbsp; 正常启动。</p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;"><br style="box-sizing: border-box;"></p><p style="box-sizing: border-box; margin-bottom: 20px; word-break: break-word;">有感：比如yarn-参数 一般是作为基础参数， yarn启动之后一般不做修改，那就设置为偏小或者最小值&nbsp; ，然后每次给作业job分配的时候就按实际的申请就可以了</p></article><div style="box-sizing: border-box;"></div><div class="_1kCBjS" style="box-sizing: border-box; -webkit-box-pack: justify; justify-content: space-between; font-size: 14px; color: rgb(150, 150, 150); user-select: none; display: flex; -webkit-box-align: center; align-items: center;"><div class="_18vaTa" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center;"><div class="_3BUZPB" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center; margin-right: 12px;"><div class="_2Bo4Th" role="button" tabindex="-1" aria-label="给文章点赞" style="box-sizing: border-box; touch-action: manipulation; display: flex; -webkit-box-align: center; align-items: center; -webkit-box-pack: center; justify-content: center; width: 40px; height: 40px; border: 1px solid rgb(238, 238, 238); border-radius: 50%; font-size: 18px; cursor: pointer;"><span aria-label="ic-like" class="anticon" style="box-sizing: border-box; display: inline-block; color: inherit; line-height: 0; text-align: center; vertical-align: -0.125em; text-rendering: optimizelegibility; -webkit-font-smoothing: antialiased;"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#ic-like"><svg id="ic-like" viewBox="0 0 1084 1024"><path d="M728.064 343.943529c-17.648941-2.891294-23.552-20.239059-26.503529-28.912941V104.026353C701.560471 46.200471 654.396235 0 595.425882 0c-53.007059 0-97.28 40.478118-106.134588 89.569882-29.997176 184.862118-138.541176 255.457882-217.630118 280.937412a26.142118 26.142118 0 0 0-18.130823 24.877177v560.067764c0 19.817412 16.022588 35.84 35.84 35.84h535.973647c56.018824-11.565176 94.328471-31.804235 120.892235-86.738823l120.832-416.105412c23.552-75.173647-14.757647-147.395765-100.231529-144.564706h-238.772706z m-571.813647 31.744H76.619294C35.358118 375.687529 0 410.383059 0 450.861176v462.426353c0 43.369412 32.406588 78.004706 76.619294 78.004706h79.631059c27.708235 0 50.115765-22.407529 50.115765-50.115764V425.863529a50.115765 50.115765 0 0 0-50.115765-50.115764z"></path></svg></use></svg></span></div><span class="_1LOh_5" role="button" tabindex="-1" aria-label="查看点赞列表" style="box-sizing: border-box; touch-action: manipulation; cursor: pointer; margin-left: 8px;">0人点赞<span aria-label="icon: right" class="anticon anticon-right" style="box-sizing: border-box; display: inline-block; color: inherit; line-height: 0; text-align: center; vertical-align: -0.125em; text-rendering: optimizelegibility; -webkit-font-smoothing: antialiased; font-size: 12px;"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></span></span></div><div class="_3BUZPB" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center;"><div class="_2Bo4Th" role="button" tabindex="-1" style="box-sizing: border-box; touch-action: manipulation; display: flex; -webkit-box-align: center; align-items: center; -webkit-box-pack: center; justify-content: center; width: 40px; height: 40px; border: 1px solid rgb(238, 238, 238); border-radius: 50%; font-size: 18px; cursor: pointer;"><span aria-label="ic-dislike" class="anticon" style="box-sizing: border-box; display: inline-block; color: inherit; line-height: 0; text-align: center; vertical-align: -0.125em; text-rendering: optimizelegibility; -webkit-font-smoothing: antialiased;"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#ic-dislike"><svg id="ic-dislike" viewBox="0 0 1137 1024"><path d="M771.413333 668.728889c-18.773333 3.015111-25.031111 20.878222-28.16 29.866667v217.884444c0 59.733333-49.948444 107.52-112.412444 107.52a115.427556 115.427556 0 0 1-112.412445-92.558222c-31.857778-190.919111-146.830222-263.850667-230.627555-290.133334a27.420444 27.420444 0 0 1-19.228445-26.168888V37.944889C268.572444 17.066667 285.582222 0 306.631111 0h567.864889c59.335111 11.946667 99.953778 32.824889 128 89.543111l128.113778 429.909333c24.974222 77.653333-15.644444 152.291556-106.211556 149.276445H771.413333z m-605.866666-32.824889H81.180444C37.546667 635.904 0 600.064 0 558.250667V80.611556C0 35.84 34.360889 0 81.180444 0H165.546667c29.297778 0 53.077333 23.779556 53.077333 53.077333v529.749334a53.077333 53.077333 0 0 1-53.077333 53.077333z"></path></svg></use></svg></span></div></div></div><div class="_18vaTa" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center;"><a class="_3BUZPB _1x1ok9 _1OhGeD" href="https://www.jianshu.com/nb/35531232" target="_blank" rel="noopener noreferrer" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0); outline: none; cursor: pointer; transition: color 0.3s ease 0s; touch-action: manipulation; display: flex; -webkit-box-align: center; align-items: center; margin-right: 12px;"><span aria-label="ic-notebook" class="anticon" style="box-sizing: border-box; display: inline-block; color: inherit; line-height: 0; text-align: center; vertical-align: -0.125em; text-rendering: optimizelegibility; -webkit-font-smoothing: antialiased; font-size: 16px;"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#ic-notebook"><svg id="ic-notebook" viewBox="0 0 1024 1024"><path d="M178.390055 120.591045C111.268624 120.591045 56.888889 174.401955 56.888889 240.556383V903.97778C56.888889 970.302855 111.097977 1024 178.390055 1024h545.731364c67.121431 0 121.558049-53.81091 121.558049-120.02222V240.613265c0-66.268192-54.209088-120.02222-121.558049-120.02222H178.390055z m455.117432 301.136319H269.06087a30.147761 30.147761 0 0 1 0-60.238641h364.503499a30.147761 30.147761 0 0 1 0 60.238641z m303.18409 301.136318a30.318409 30.318409 0 0 1-30.375291-30.318409V180.317742c0-66.268192-53.81091-120.02222-121.330519-120.022219H329.697688a30.147761 30.147761 0 0 1 0-60.23864l454.946784 0.056882C885.326618 0.113765 967.009987 80.887013 967.009987 180.602155v511.943118a30.318409 30.318409 0 0 1-30.31841 30.318409z m-303.18409-120.47728H269.06087a30.147761 30.147761 0 1 1 0-60.238641h364.503499a30.147761 30.147761 0 0 1 0 60.238641z"></path></svg></use></svg></span><span style="box-sizing: border-box; margin-left: 8px;">日记本</span></a><div class="_3BUZPB ant-dropdown-trigger" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center;"><div class="_2Bo4Th" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center; -webkit-box-pack: center; justify-content: center; width: 40px; height: 40px; border: 1px solid rgb(238, 238, 238); border-radius: 50%; font-size: 18px; cursor: pointer;"><span aria-label="ic-others" class="anticon" style="box-sizing: border-box; display: inline-block; color: inherit; line-height: 0; text-align: center; vertical-align: -0.125em; text-rendering: optimizelegibility; -webkit-font-smoothing: antialiased;"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#ic-others"><svg id="ic-others" viewBox="0 0 1024 1024"><path d="M232.727273 579.87878833C271.28679 579.87878833 302.545455 548.62012233 302.545455 510.06060633 302.545455 471.50108933 271.28679 440.24242433 232.727273 440.24242433 194.167756 440.24242433 162.909091 471.50108933 162.909091 510.06060633 162.909091 548.62012233 194.167756 579.87878833 232.727273 579.87878833ZM512 579.87878833C550.559516 579.87878833 581.818182 548.62012233 581.818182 510.06060633 581.818182 471.50108933 550.559516 440.24242433 512 440.24242433 473.440484 440.24242433 442.181818 471.50108933 442.181818 510.06060633 442.181818 548.62012233 473.440484 579.87878833 512 579.87878833ZM791.272727 579.87878833C829.832243 579.87878833 861.090909 548.62012233 861.090909 510.06060633 861.090909 471.50108933 829.832243 440.24242433 791.272727 440.24242433 752.713211 440.24242433 721.454545 471.50108933 721.454545 510.06060633 721.454545 548.62012233 752.713211 579.87878833 791.272727 579.87878833Z"></path></svg></use></svg></span></div></div></div></div><div class="_19DgIp" style="box-sizing: border-box; width: 682px; height: 1px; margin: 24px 0px; background-color: rgb(238, 238, 238);"></div><div class="_13lIbp" style="box-sizing: border-box; display: flex; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-direction: column; -webkit-box-align: center; align-items: center; margin: 40px 0px 32px;"><div class="_191KSt" style="box-sizing: border-box; margin-bottom: 16px;">"小礼物走一走，来简书关注我"</div><button type="button" class="_1OyPqC _3Mi9q9 _2WY0RL _1YbC5u" style="touch-action: manipulation; color: rgb(255, 255, 255); font-size: 16px; font-family: inherit; line-height: inherit; overflow: visible; position: relative; flex-shrink: 0; display: inline-flex; -webkit-box-pack: center; justify-content: center; -webkit-box-align: center; align-items: center; border-radius: 50px; cursor: pointer; background-image: none; white-space: nowrap; user-select: none; transition: all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1) 0s; padding: 8px 16px; background-color: rgb(236, 114, 89); border-color: rgb(236, 114, 89);"><span style="box-sizing: border-box;">赞赏支持</span></button><span class="_3zdmIj" style="box-sizing: border-box; color: rgb(102, 102, 102); margin-top: 24px;">还没有人赞赏，支持一下</span></div><div class="d0hShY" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center; background-color: rgb(250, 250, 250); border-radius: 4px; padding: 12px 16px;"><a class="_1OhGeD" href="https://www.jianshu.com/u/2fda7fcf9a9a" target="_blank" rel="noopener noreferrer" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0); outline: none; cursor: pointer; transition: color 0.3s ease 0s; touch-action: manipulation;"><img class="_27NmgV" src="http://cdn2.jianshu.io/assets/default_avatar/13-394c31a9cb492fcb39c27422ca7d2815.jpg" alt="  " style="box-sizing: border-box; vertical-align: middle; border-width: 1px; border-style: solid; border-color: rgb(238, 238, 238); border-radius: 50%; min-width: 50px; min-height: 50px; width: 50px; height: 50px;"></a><div class="Uz-vZq" style="box-sizing: border-box; -webkit-box-flex: 1; flex-grow: 1; margin: 0px 12px; overflow: hidden;"><div class="Cqpr1X" style="box-sizing: border-box; display: flex; -webkit-box-align: center; align-items: center; margin-bottom: 2px;"><a class="HC3FFO _1OhGeD" href="https://www.jianshu.com/u/2fda7fcf9a9a" title="会飞的大公鸡" target="_blank" rel="noopener noreferrer" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0); outline: none; cursor: pointer; transition: color 0.3s ease 0s; touch-action: manipulation; flex-shrink: 0; margin-right: 6px;">会飞的大公鸡</a><span class="_2WEj6j" title="" style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></span></div><div class="lJvI3S" style="box-sizing: border-box; font-size: 14px; color: rgb(150, 150, 150);"><span style="box-sizing: border-box; margin-right: 12px;">总资产0</span><span style="box-sizing: border-box; margin-right: 12px;">共写了1749字</span><span style="box-sizing: border-box; margin-right: 12px;">获得2个赞</span><span style="box-sizing: border-box; margin-right: 0px;">共2个粉丝</span></div></div><button data-locale="zh-CN" type="button" class="_1OyPqC _3Mi9q9" style="touch-action: manipulation; color: rgb(236, 114, 89); font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: relative; flex-shrink: 0; display: inline-flex; -webkit-box-pack: center; justify-content: center; -webkit-box-align: center; align-items: center; border-radius: 50px; cursor: pointer; background-image: none; white-space: nowrap; user-select: none; transition: all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1) 0s; padding: 4px 12px; background-color: rgb(255, 255, 255); border-color: rgb(236, 114, 89);"><span style="box-sizing: border-box;">关注</span></button></div></section><div id="note-page-comment" style="box-sizing: border-box; color: rgb(64, 64, 64); font-family: -apple-system, system-ui, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; background-color: rgb(249, 249, 249);"><section class="ouvJEz" style="box-sizing: border-box; background-color: rgb(255, 255, 255); border-radius: 4px; margin-bottom: 10px; padding: 24px;"></section></div>